# Prefixes
PREFIX pub: <http://ontology.ontotext.com/taxonomy/>
PREFIX publishing: <http://ontology.ontotext.com/publishing#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

select ?document ?mention ?person_label ?party_label ?cnt {
    {
        select ?mention ?party ?document ?person ?party_label ?value (?personLabel as ?person_label) (count(*) as ?cnt)  {
            ?document publishing:containsMention ?mention .
            ?person pub:memberOfPoliticalParty ?party .
            ?person pub:preferredLabel ?personLabel .
            ?party pub:hasValue ?value .
            ?value pub:preferredLabel ?party_label .
            filter(?personLabel = "Judy Chu"@en)

            {
                Select * where {
                    ?mention publishing:hasInstance ?person .

                }
            }
        } group by ?mention ?party ?document ?person ?party_label ?value ?personLabel
    }
    union
    {
        select (?personLabel as ?person_label) ?party_label ?person ?mention ?document (count(*) as ?cnt) where {
            ?mention publishing:hasInstance ?person .
            ?document publishing:containsMention ?mention .
            ?person pub:memberOfPoliticalParty / pub:hasValue / pub:preferredLabel ?party_label .
            ?person pub:preferredLabel ?personLabel .
            filter(?personLabel = "Barack Obama"@en)
        } group by  ?personLabel ?party_label ?person ?mention ?document
    }
}