SELECT DISTINCT ?s ?x (CONCAT(SUBSTR(STR(?y), 0, 5), SUBSTR(STR(?y), 5, 10)) as ?first_ten) (COUNT(?a) as ?cnt_a) (COUNT(?b) as ?cnt_b){{FILTER(?s = <http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral>) ?s <http://www.w3.org/2000/01/rdf-schema#subClassOf>/<http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?x.OPTIONAL{<http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?a ?b.}}UNION{FILTER(?s = <http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral>) ?s <http://www.w3.org/2000/01/rdf-schema#subClassOf>/<http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?y.OPTIONAL{<http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?a ?b.}}}GROUP BY ?s ?x ?y ORDER BY DESC(COUNT(?b)) 